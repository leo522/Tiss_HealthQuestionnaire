@{
    ViewBag.Title = "Main";
    Layout = "~/Views/Shared/_HealthLayout.cshtml";
}
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>健康檢查問卷</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .tablinks.active {
            background-color: #e2e8f0; /* Tailwind CSS gray-200 */
            color: #1a202c; /* Tailwind CSS gray-800 */
            border-bottom: 2px solid #1a202c; /* 添加底部邊框以顯示當前頁籤 */
        }
    </style>
</head>
<body class="bg-gray-100 p-4">
    <div class="container mx-auto">
        <div class="bg-white p-6 rounded-lg shadow-md mb-4">
            <div class="flex flex-col md:flex-row items-center mb-4">
                <label class="mr-2">專項：<input type="text" name="specialist" class="border rounded p-1" /></label>
                <label class="mr-2">填表人：<input type="text" name="fillName" class="border rounded p-1" /></label>
                <label class="mr-2">填表日期：<input type="date" name="fillDate" class="border rounded p-1" /></label>
                <button class="btn btn-success ml-auto bg-green-500 text-white rounded px-4 py-2">存檔</button>
            </div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
            <div class="flex flex-wrap">
                <button class="tablinks w-full md:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-l"
                        onclick="openTab(event, 'PastHealth')">
                    過去健康檢查病史
                </button>
                <button class="tablinks w-full md:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4"
                        onclick="openTab(event, 'AllergicHistory')">
                    過敏史
                </button>
                <button class="tablinks w-full md:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4"
                        onclick="openTab(event, 'FamilyHistory')">
                    家族病史
                </button>
                <button class="tablinks w-full md:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4"
                        onclick="openTab(event, 'PastHistory')">
                    過去病史
                </button>
                <button class="tablinks w-full md:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4"
                        onclick="openTab(event, 'SurgeryHistory')">
                    開刀史
                </button>
                <button class="tablinks w-full md:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4"
                        onclick="openTab(event, 'PresentIllness')">
                    現在病史
                </button>
                <button class="tablinks w-full md:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4"
                        onclick="openTab(event, 'PastDrugs')">
                    藥物史
                </button>
                <button class="tablinks w-full md:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4"
                        onclick="openTab(event, 'PastSupplements')">
                    營養品
                </button>
                <button class="tablinks w-full md:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4"
                        onclick="openTab(event, 'FemaleQuestionnaire')">
                    女性問卷
                </button>
            </div>
        </div>

        <div id="PastHealth" class="tabcontent hidden"></div>
        <div id="AllergicHistory" class="tabcontent hidden"></div>
        <div id="FamilyHistory" class="tabcontent hidden"></div>
        <div id="PastHistory" class="tabcontent hidden"></div>
        <div id="SurgeryHistory" class="tabcontent hidden"></div>
        <div id="PresentIllness" class="tabcontent hidden"></div>
        <div id="PastDrugs" class="tabcontent hidden"></div>
        <div id="PastSupplements" class="tabcontent hidden"></div>
        <div id="FemaleQuestionnaire" class="tabcontent hidden"></div>
    </div>

    <script>
        function openTab(evt, tabName) {
            // 隱藏所有的 tabcontent
            $('.tabcontent').hide();

            // 顯示選中的 tabcontent
            $('#' + tabName).show();

            // 移除所有 tablinks 的 active 類
            $('.tablinks').removeClass('active');

            // 添加 active 類到當前選擇的 tablink
            $(evt.currentTarget).addClass('active');

            // 確保在加載內容之前，請求頁面有資料返回
            $.get('/Questionnaire/' + tabName, function (data) {
                $('#' + tabName).html(data);
            });
        }

        $(document).ready(function () {
            // 默認打開第一個 tab
            $('.tablinks:first').click();
        });
    </script>
</body>
</html>