@*腦震盪篩檢-選手自填(選手背景)-(1)*@
@model IEnumerable<Tiss_HealthQuestionnaire.Models.ConcussionScreeningViewModel>
@{
    Layout = "~/Views/Shared/_HealthLayout.cshtml";
}
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta name="viewport" content="width=device-width" />
</head>
<body>
    <div class="p-4">
        <h1 class="text-xl font-bold mb-4">(一) 選手背景：您是否曾經有下列病史(症狀)</h1>
        <form method="post" action="/Questionnaire/SaveConcussionScreening">
            <!-- 問卷表格 -->
            <div class="overflow-x-auto">
                <table class="min-w-full bg-white border border-gray-300">
                    <thead>
                        <tr class="bg-gray-100">
                            <th class="border border-gray-300 px-4 py-2 text-center">項次</th>
                            <th class="border border-gray-300 px-4 py-2">是否曾經</th>
                            <th class="border border-gray-300 px-4 py-2 text-center">有</th>
                            <th class="border border-gray-300 px-4 py-2 text-center">無</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr class="hover:bg-gray-100">
                                <!-- 項次 -->
                                <td class="border border-gray-300 px-4 py-2 text-center">@item.OrderNumber</td>

                                <!-- 問題 -->
                                <td class="border border-gray-300 px-4 py-2">@item.Question</td>

                                <!-- 有選項 -->
                                <td class="border border-gray-300 px-4 py-2 text-center">
                                    <input type="radio" name="question_@item.OrderNumber" value="yes" class="form-radio h-5 w-5 text-blue-600"
                                           @(item.Answer == "yes" ? "checked" : "")>
                                </td>

                                <!-- 無選項 -->
                                <td class="border border-gray-300 px-4 py-2 text-center">
                                    <input type="radio" name="question_@item.OrderNumber" value="no" class="form-radio h-5 w-5 text-blue-600"
                                           @(item.Answer == "no" ? "checked" : "")>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <!-- 新增項目：現在是否服用藥物 -->
            <div class="flex items-center mt-8 mb-4">
                <span class="mr-4 font-medium">● 現在是否服用藥物：</span>
                <label class="inline-flex items-center mr-4">
                    <input type="radio" name="medication" value="no" class="form-radio h-5 w-5 text-blue-600"
                           @(ViewBag.MedicationAnswer == "no" ? "checked" : "")>
                    <span class="ml-2">無</span>
                </label>
                <label class="inline-flex items-center mr-4">
                    <input type="radio" name="medication" value="yes" class="form-radio h-5 w-5 text-blue-600"
                           @(ViewBag.MedicationAnswer == "yes" ? "checked" : "")>
                    <span class="ml-2">有</span>
                </label>
                <span class="ml-2">(請述明)</span>
                <input type="text" name="medicationDetails" class="border border-gray-300 rounded px-2 py-1 w-64 ml-2">
            </div>

            <!-- 新增項目：備註 -->
            <div class="flex items-start mb-4">
                <span class="mr-4 font-medium">● 備註：</span>
                <input type="text" name="notes" class="border border-gray-300 rounded flex-none w-64 px-1 py-1"
                       value="@ViewBag.Notes" />
            </div>

            <button type="submit" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600" >接續下一頁</button>
        </form>
    </div>
</body>
</html>